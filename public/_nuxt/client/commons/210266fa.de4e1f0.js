(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{432:function(t,e,r){"use strict";r.r(e);r(6),r(44),r(9),r(42),r(43),r(26),r(16),r(17),r(5),r(65);var n=r(20),o=r(435),c=r(438),l=r(459),f=l.b.reactiveProp;function d(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var h={props:["id"],components:{BarChart:{extends:l.a,props:["options"],mixins:[f],mounted:function(){console.log(this.chartData,this.options),this.renderChart(this.chartData,this.options)}}},data:function(){return{profile:null,profileService:null,productService:null,chart:{loading:!0,data:{labels:[],datasets:[]},options:{responsive:!0,barValueSpacing:20,scales:{yAxes:[{ticks:{min:0}}]}}}}},methods:{sum:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r?t.map((function(t){return t.alt})).reduce((function(a,t){return a+t[e]}),0):t.reduce((function(a,t){return a+t[e]}),0)},reload:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.profileService.findOne({id:t.id});case 2:r=e.sent,console.log(r),n=d(r.products),e.prev=5,n.s();case 7:if((o=n.n()).done){e.next=14;break}return c=o.value,e.next=11,t.productService.getAlternative(c.type);case 11:c.alt=e.sent;case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:t.profile=r,t.chart.data.labels=t.profile.products.map((function(t){return t.type})),t.chart.data.datasets=[{label:"Current",backgroundColor:"yellow",data:t.profile.products.map((function(t){return t.yearly}))},{label:"Amway",backgroundColor:"blue",data:t.profile.products.map((function(t){return t.alt.yearly}))}],t.$forceUpdate(),t.chart.loading=!1;case 27:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})))()}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.profileService=new o.a(t.$fireStore),t.productService=new c.a(t.$fireStore),t.reload();case 3:case"end":return e.stop()}}),e)})))()}},m=r(64),y=r(89),_=r.n(y),w=r(494),x=r(428),k=r(131),R=r(495),O=r(469),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[t.profile?[r("div",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[t._v("\n                    Name: "+t._s(t.profile.name)+"\n                ")]),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[t._v("\n                    Family Member: "+t._s(t.profile.family)+"\n                ")]),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[t._v("\n                    Contact No.: "+t._s(t.profile.contact)+"\n                ")]),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[t._v("\n                    Email ID: "+t._s(t.profile.email)+"\n                ")]),t._v(" "),r("v-col",{attrs:{cols:"12",md:"12"}},[t._v("\n                    Postal Address: "+t._s(t.profile.postal)+"\n                ")]),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[t._v("\n                    Date of Birth: "+t._s(t.profile.dob)+"\n                ")])],1),t._v(" "),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-simple-table",{attrs:{"fixed-header":"",height:"300px"},scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{attrs:{colspan:"3"}}),t._v(" "),r("th",{attrs:{colspan:"1"}},[t._v("Life")]),t._v(" "),r("th",{attrs:{colspan:"1"}},[t._v("Cost")]),t._v(" "),r("th",{attrs:{colspan:"2",scope:"colgroup"}},[t._v("Effective Cost")]),t._v(" "),r("th",{attrs:{colspan:"2"}}),t._v(" "),r("th",{attrs:{colspan:"1"}},[t._v("Life")]),t._v(" "),r("th",{attrs:{colspan:"1"}},[t._v("Cost")]),t._v(" "),r("th",{attrs:{colspan:"2",scope:"colgroup"}},[t._v("Effective Cost")])]),t._v(" "),r("tr",[r("th",{staticClass:"text-left"},[t._v("Type of Product")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Brand")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Size")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("(Months)")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("DAP (Rs.)")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Monthly")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Yearly")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("AMWAY")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Size")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("(Months)")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("DAP (Rs.)")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Monthly")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Yearly")])])]),t._v(" "),r("tbody",[t._l(t.profile.products,(function(e,n){return r("tr",{key:n},[r("td",[t._v(t._s(e.type))]),t._v(" "),r("td",[t._v(t._s(e.brand))]),t._v(" "),r("td",[t._v(t._s(e.size))]),t._v(" "),r("td",[t._v(t._s(e.life))]),t._v(" "),r("td",[t._v(t._s(e.cost))]),t._v(" "),r("td",[t._v(t._s(e.monthly))]),t._v(" "),r("td",[t._v(t._s(e.yearly))]),t._v(" "),r("td",[t._v(t._s(e.alt.name))]),t._v(" "),r("td",[t._v(t._s(e.alt.size))]),t._v(" "),r("td",[t._v(t._s(e.alt.life))]),t._v(" "),r("td",[t._v(t._s(e.alt.cost))]),t._v(" "),r("td",[t._v(t._s(e.alt.monthly))]),t._v(" "),r("td",[t._v(t._s(e.alt.yearly))])])})),t._v(" "),r("tr",[r("td",{attrs:{colspan:"6"}},[t._v("Total")]),t._v(" "),r("td",[t._v(t._s(t.sum(t.profile.products,"yearly")))]),t._v(" "),r("td",{attrs:{colspan:"5"}},[t._v("Total")]),t._v(" "),r("td",[t._v(t._s(t.sum(t.profile.products,"yearly",!0)))])]),t._v(" "),r("tr",[r("td",{attrs:{colspan:"12"}},[t._v("Yearly Savings")]),t._v(" "),r("td",[t._v(t._s(t.sum(t.profile.products,"yearly")-t.sum(t.profile.products,"yearly",!0)))])])],2)]},proxy:!0}],null,!1,685909999)})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[t.chart.loading?t._e():r("bar-chart",{attrs:{"chart-data":t.chart.data,":options":t.chart.options}})],1)],1)],1)]:[r("div",{staticClass:"text-center"},[r("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1)]],2)}),[],!1,null,null,null);e.default=component.exports;_()(component,{VCol:w.a,VContainer:x.a,VProgressCircular:k.a,VRow:R.a,VSimpleTable:O.a})},435:function(t,e,r){"use strict";(function(t){r(44),r(9),r(42),r(43),r(26),r(16),r(17),r(58),r(88),r(6),r(5),r(65);var n=r(20),o=r(36),c=r(31),l=r(28),f=r(15),d=r(23),v=r(445),h=r.n(v),m=r(446),y=r.n(m);function _(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var k=function t(){Object(d.a)(this,t)},R=function(t){Object(c.a)(O,t);var e,r,l,f,v,m,w,k,R=x(O);function O(){var t;Object(d.a)(this,O),t=R.call(this);var data=localStorage.getItem("profiles");return t.profiles=data?h.a.mapValues(JSON.parse(data),(function(t){return t.createdAt=new Date(t.createdAt),t.updatedAt=new Date(t.updatedAt),t})):{},t}return Object(o.a)(O,[{key:"save",value:(k=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.setItem("profiles",JSON.stringify(this.profiles)),t.abrupt("return");case 2:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"find",value:(w=Object(n.a)(regeneratorRuntime.mark((function t(filter){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.a.filter(h.a.values(this.profiles),filter));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"findOne",value:(m=Object(n.a)(regeneratorRuntime.mark((function t(filter){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!filter.id||1!==h.a.keys(filter).length){t.next=2;break}return t.abrupt("return",this.profiles[filter.id]);case 2:return t.abrupt("return",h.a.find(h.a.values(this.profiles),filter));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"create",value:(v=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.id||(e.id=y()()),e.createdAt=new Date,e.updatedAt=new Date,this.profiles[e.id]=e,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"update",value:(f=Object(n.a)(regeneratorRuntime.mark((function t(filter,data){var e,r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data.id&&delete data.id,t.next=3,this.find(filter);case 3:e=t.sent,r=_(e);try{for(r.s();!(n=r.n()).done;)o=n.value,data.id=o.id,(o=h.a.merge(o,data)).updatedAt=new Date,this.profiles[o.id]=o}catch(t){r.e(t)}finally{r.f()}return t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return f.apply(this,arguments)})},{key:"updateOne",value:(l=Object(n.a)(regeneratorRuntime.mark((function t(filter,data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data.id&&delete data.id,t.next=3,this.findOne(filter);case 3:return e=t.sent,e=h.a.merge(e,data),this.profiles[e.id]=e,t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return l.apply(this,arguments)})},{key:"delete",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(filter){var e,r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.find(filter);case 2:e=t.sent,r=_(e);try{for(r.s();!(n=r.n()).done;)o=n.value,delete this.profiles[o.id]}catch(t){r.e(t)}finally{r.f()}return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"deleteOne",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(filter){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.findOne(filter);case 2:return e=t.sent,console.log(e),delete this.profiles[e.id],t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),O}(k),O=function(t){Object(c.a)(O,t);var e,r,l,f,v,m,w,k,R=x(O);function O(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{collection:"profiles"};return Object(d.a)(this,O),(e=R.call(this)).database=t,e.db=t,e.config=r,e}return Object(o.a)(O,[{key:"save",value:(k=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return k.apply(this,arguments)})},{key:"find",value:(w=Object(n.a)(regeneratorRuntime.mark((function t(filter){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.config.collection).get();case 2:if(!(e=t.sent).empty){t.next=5;break}return t.abrupt("return",[]);case 5:return r=[],e.forEach((function(t){return r.push(t.data())})),t.abrupt("return",h.a.filter(r,filter));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"findOne",value:(m=Object(n.a)(regeneratorRuntime.mark((function t(filter){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!filter.id||1!==h.a.keys(filter).length){t.next=6;break}return t.next=3,this.db.collection(this.config.collection).doc(filter.id).get();case 3:return t.next=5,t.sent.data();case 5:return t.abrupt("return",t.sent);case 6:return t.next=8,this.find(filter);case 8:return e=t.sent,r=e.find((function(t){return h.a.isMatch(t,filter)})),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"create",value:(v=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.id||(e.id=y()()),e.createdAt=new Date,e.updatedAt=new Date,t.next=5,this.db.collection(this.config.collection).doc(e.id).set(e);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"update",value:(f=Object(n.a)(regeneratorRuntime.mark((function t(filter,data){var e,r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.find(filter);case 2:e=t.sent,r=_(e),t.prev=4,r.s();case 6:if((n=r.n()).done){t.next=15;break}return o=n.value,data.id=o.id,(o=h.a.merge(o,data)).updatedAt=new Date,t.next=13,this.db.collection(this.config.collection).doc(o.id).set(data);case 13:t.next=6;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),r.e(t.t0);case 20:return t.prev=20,r.f(),t.finish(20);case 23:return t.abrupt("return",e);case 24:case"end":return t.stop()}}),t,this,[[4,17,20,23]])}))),function(t,e){return f.apply(this,arguments)})},{key:"updateOne",value:(l=Object(n.a)(regeneratorRuntime.mark((function t(filter,data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data.id&&delete data.id,t.next=3,this.findOne(filter);case 3:return e=t.sent,e=h.a.merge(e,data),t.next=7,this.db.collection(this.config.collection).doc(e.id).set(e);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return l.apply(this,arguments)})},{key:"delete",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(filter){var e,r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.find(filter);case 2:e=t.sent,r=_(e),t.prev=4,r.s();case 6:if((n=r.n()).done){t.next=12;break}return o=n.value,t.next=10,this.db.collection(this.config.collection).doc(o.id).delete();case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),r.e(t.t0);case 17:return t.prev=17,r.f(),t.finish(17);case 20:return t.abrupt("return",e);case 21:case"end":return t.stop()}}),t,this,[[4,14,17,20]])}))),function(t){return r.apply(this,arguments)})},{key:"deleteOne",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(filter){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.findOne(filter);case 2:return e=t.sent,console.log(e),t.next=6,this.db.collection(this.config.collection).doc(e.id).delete();case 6:return t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),O}(k),j=t.env.DEV?R:O;e.a=j}).call(this,r(137))},438:function(t,e,r){"use strict";(function(t){r(16),r(17),r(5),r(58);var n=r(3),o=(r(142),r(65),r(20)),c=r(36),l=r(31),f=r(28),d=r(15),v=r(23);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var m=["Toothpaste","Shampoo","Detergent","Floor Cleaner"],y={Generic:{name:null,size:"",life:0,cost:0},Toothpaste:{name:"Amway Toothpaste",size:"100gm",life:4,cost:20},Shampoo:{name:"Amway Shampoo",size:"100gm",life:3,cost:35}},_=function t(){Object(v.a)(this,t)},w=function(t){Object(l.a)(w,t);var e,r,n,f,d,_=h(w);function w(){return Object(v.a)(this,w),_.call(this)}return Object(c.a)(w,[{key:"round",value:function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}},{key:"computeCosts",value:function(t){return t.monthly=this.round(t.cost/t.life,2)||0,t.yearly=this.round(12*t.cost/t.life,2)||0,t}},{key:"verifyProduct",value:(d=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1!==m.findIndex((function(p){return p.toLowerCase()==e.toLowerCase()})));case 1:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)})},{key:"getAvailableProducts",value:(f=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m);case 1:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})},{key:"setAvailableProducts",value:(n=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m=e;case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"getAlternative",value:(r=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.computeCosts(y[e]||y.Generic));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"setAlternative",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y[e]=r,t.abrupt("return");case 2:case"end":return t.stop()}}),t)}))),function(t,r){return e.apply(this,arguments)})}]),w}(_),x=function(t){Object(l.a)(_,t);var e,r,f,d,m,y=h(_);function _(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{collection:"products",doc:"PRODUCTS"};return Object(v.a)(this,_),(e=y.call(this)).database=t,e.db=t,e.config=r,e}return Object(c.a)(_,[{key:"round",value:function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}},{key:"computeCosts",value:function(t){return t.monthly=this.round(t.cost/t.life,2)||0,t.yearly=this.round(12*t.cost/t.life,2)||0,t}},{key:"verifyProduct",value:(m=Object(o.a)(regeneratorRuntime.mark((function t(e){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.config.collection).doc(this.config.doc).get();case 2:return data=t.sent.data(),t.abrupt("return",-1!==data.available.findIndex((function(p){return p==e})));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"getAvailableProducts",value:(d=Object(o.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.config.collection).doc(this.config.doc).get();case 2:return data=t.sent.data(),t.abrupt("return",data.available||[]);case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"setAvailableProducts",value:(f=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.config.collection).doc(this.config.doc).set({available:e},{merge:!0});case 2:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"getAlternative",value:(r=Object(o.a)(regeneratorRuntime.mark((function t(e){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.config.collection).doc(this.config.doc).get();case 2:return data=t.sent.data(),t.abrupt("return",this.computeCosts(data.alternatives[e])||{Generic:{name:null,size:"",life:0,cost:0,monthly:0,yearly:0}});case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"setAlternative",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.config.collection).doc(this.config.doc).set({alternatives:Object(n.a)({},e,r)},{merge:!0});case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})}]),_}(_),k=t.env.DEV?w:x;e.a=k}).call(this,r(137))}}]);